
TODO:(優先度高)
□DownloaderにDatabase系のメソッドが多すぎるのでDatabaseクラスに分ける
□alias機能を作る。IDとキーワードをひもづける(narou alias musyoku 6)
□kindlegenとか実行中に .... と実行中の間は増え続けていくプログレスバーぽいのを表示する（スレッドで）
□mobiへの変換が終わったらその保存ディレクトリをエクスプローラで開く（開きますか？って聞く）
□日付検出がちゃんと出来てるかチェック(20xx/xx/xx)
□行頭字下げ状況をチェックして、あまりにも多い場合は字下げをする
□注記タグの中は漢数字変換とかしない
□iniファイルの読み込みを自前のライブラリでやる(BOM付ファイルでバグる。メモ帳はデフォでBOM付きで保存するので)
□エラーは標準エラーに出力する
□デフォでは警告表示を抑止、--verbose オプションをつけて警告も表示
    □inspectorのチェック状況はエラーではなく警告にする
■漢数字を百、千、万表記に変換
■スラッシュ区切り(20yy/mm/dd)な数字を20xx年mm月dd日に変換できるオプションを付ける
■見出しの後ろに前書きを移動する
■括弧内自動連結で異常（括弧の開きとじの数が合わない・文字列が長すぎる等）を検知したら
  連結を中止する（その際警告表示をコンソール・エラーログに出力する）
■括弧内自動連結する際、連結する改行の数が閾値を超えた場合、改行すべき表現と判断して連結を中止する
■なろうの挿絵DL
■小説名だけじゃなくて番号でも指定できるように
■小説一覧を表示するUI実装（ruby main.rb -l とか？）
■傍点対応（ルビで《・・・・》などとやっている部分を変換）
■前書き・後書きで注釈を分ける
■convert_symbolsが長くなってきたので機能ごとに分割する
■スラッシュで区切られた日付表記を分数表記とは区別できるようにする
■なろうの目次ページからチャプターを取得するように
■最近更新のあったリストの表示（過去何日で表示？database.yamlで管理）

TODO:(優先度低い)
□ocraでEXE化できるようにする
□gem化する
■「あ゛」を縦中横で表示すると横に間延びするのでどうにかする（外字？CSSでめり込ませる？）
□LimeChatでRSS監視→更新確認→DL→txt変換→epub化、mobi化→サーバへアップロード→LimeChatへ更新(エラー)報告
    □RSS監視スクリプト(LimeChat用、javascript)
    □ダウンロード機能(DL済み話数も改稿チェックをしてDLし直す)
        □更新を確認してもすぐにはDLはしない（すぐに改稿される場合があるため。1時間後くらいが目安？）
    □txt変換のエラーチェック機能(exitステータスを見ればいい？)
    □公開ディレクトリへのコピー機能(Googleドライブ用のディレクトリ？自鯖？)
    □LimeChat上で更新した際の情報(更新成功可否、エラー情報等)、mobiのアドレスの報告機能(javascript)
■AozoraEPUB3をCUIで使うようにする
    ■kindlegen.exe を使ってmobi化する
    □kindlestrip を使ってスリムアップする
□連番ファイル連結時のフック関数実装（hook_join_file(a, b)）
□前書き・後書きに挿絵タグがある場合、前書きの直後、後書きの直前に移動させる
■URL指定してダウンロードできるようにする（最新話チェックだけでなく、既存話数更新も）

BUG:
□小説のタイトルが変わったらバグる気がする
□convertコマンドで-oを指定した時に、見出しリストやエラーログが指定した場所に保存されない（小説データ以下のデフォルトの場所に保存されている。archive_path を見てるからかも？）
□kanji_num_with_units_lower_digit_zeroが２で８００が八〇〇のままだった（１０００は千）
□narou コマンドの相対パスを基準にしたままだと他のディレクトリで実行した場合におかしくなる
□narou convert で -o で違うディレクトリを指定した時に挿絵のパスの相対パスがおかしくなるのをどにかする
  （絶対パスにするか？　もしくは-o はディレクトリを指定できなくてファイル名だけ指定できるようにするか）
■年がない日付(10/24)が分数に見えて誤変換するのをどうにかする→デフォルトでは機能オフで対処
■setting.ini で前書き削除を有効にしても削除されない
■改稿なしの状態から同日改稿された場合にアップデートが認識されない
■後書き、前書きの削除が機能しなくなっている
■タイトル、ストーリーも変換対象に
■？のあとの隙間入れる奴の例外追加→”’
■前書きがある場合に見出しの後ろに移動する処理がおかしくなっている→本文がない場合がおかしいだけ（放置）
■!?（縦中横されてる奴？）の後ろに空きが自動で入らなくなっている（insert_separate_space）
■』などが漢字に見えてルビ対象になってしまう不具合
■ルビの処理で、｜がない場合で直前が漢字じゃない奴を無効化する
■章っぽい表記検出がおかしい（force_indent_special_chapter）
■アルファベットに隣接する数字は漢数字かするべきではない
■見出しの後ろに空行が入らなくなってる（場合がある）
■作者コメントのバグ取り
