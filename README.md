Narou.rb ― 「小説家になろう」「小説を読もう！」ダウンローダ＆縦書用整形スクリプト
============================================================

概要 - Summary
--------------
このアプリは[小説家になろう](http://syosetu.com/)、[小説を読もう！](http://yomou.syosetu.com/)で公開されている小説の管理、
及び電子書籍データへの変換を支援します。縦書き用に特化されており、
横書き用に特化されたWEB小説を違和感なく縦書きで読むことが出来るようになります。
また、校正機能もありますので、小説としての一般的な整形ルールに矯正します。（例：感嘆符のあとにはスペースが必ずくる）

[ノクターンノベルズ](http://noc.syosetu.com/)及び[ムーンライトノベルズ](http://mnlt.syosetu.com/)にも対応しています。

**NEW!!**
[ハーメルン](http://syosetu.org/)、[Arcadia](http://www.mai-net.net/)（理想郷）、[暁](http://www.akatsuki-novels.com/)にも対応しました！

全てコンソールで操作するCUIアプリケーションです。

主な機能は小説家になろうの小説のダウンロード、更新管理、テキスト整形、AozoraEpub3・kindlegen連携によるEPUB/MOBI出力です。

詳細な説明やインストール方法は **[Narou.rb 説明書](https://github.com/whiteleaf7/narou/wiki)** を御覧ください。

![ScreenCapture](https://raw.github.com/wiki/whiteleaf7/narou/images/narou_cap.gif)

更新履歴 - ChangeLog
--------------------
2014/07/24 : **1.5.11**
* 追加機能もしくは仕様変更
	- 改稿の更新漏れ対策として、 `update.strong` オプションが追加されました
		+ `narou s update.strong=true` として設定して下さい
		+ 改稿日の更新は必ずダウンロードされるようになります（当日はアップデートする度にDLします）。
		  何度も改稿された小説では、更新のタイミングによっては改稿内容を取りこぼす可能性があるため、
		  このオプションを有効にすることで必ず拾えるようにします
		+ ファイルのタイムスタンプをチェックするので、更新動作が多少遅くなります
	- 指定の話数ごとにウェイトを入れられる `download.wait-steps` オプションが追加されました
		+ `narou s download.wait-steps=10` として設定して下さい
		+ 小説家になろうの場合は11話以上を指定しても10話ごとにウェイトが入ります
	- `backup` コマンドを追加しました
		+ 使用例： `narou backup 0` 、 `narou ba 0`
		+ 小説保存フォルダ直下の backup フォルダに、バックアップ以外の全てのファイルをZIPで固めて保存します
	- ダイジェスト化検出時の処理項目に「バックアップの作成」と「保存フォルダを開く」を追加しました
* Bug Fix
	- まのわ(n3730bn)のプリセット変換スクリプトの挙動を調整
	- 暁で一部あらすじが正常に取れていない小説があったので修正

2014/07/18 : **1.5.10.1**
* Bug Fix
	- replace.txt による置換が正常に行えなかった問題を修正

2014/07/14 : **1.5.10**
* 追加機能もしくは仕様変更
	- `download` コマンドに対話モードを追加しました
		+ `narou d` と対象小説を指定せずに実行すると対話モードに移行します（-f 等のオプションは指定出来ます）
		+ 連続してNコードもしくはURLを入力できるモードです。ArcadiaのURLは " " で囲む必要がありません
		+ 想定される使い方：
			* 複数のURLを書いたテキストをコピペして流しこむ
			* テキストファイルからリダイレクトで入力する
				- `narou d < list.txt`
			* BATファイル等で `narou d` のみを実行し、新規DL時の入力を簡便にする
	- 自動生成される converter.rb に簡単な説明を付け加えるようにしました
	- `remove` コマンドの `--with-file` オプションに短縮版 `-w` を追加しました
	- `narou init` 実行時に現在の AozoraEpub3 の場所を表示するようになりました
	- `update` コマンドに新着小説のみを変換するオプション `--convert-only-new-arrival` (短縮 `-a` )が
	  追加されました（naoh87さんによる実装）
		+ もしこのオプションをデフォルトの挙動にしたければ、 `narou s default_args.update=-a` として下さい
	- 変換用のプリセットデータを追加
		+ デスマーチからはじまる異世界狂想曲(n9902bn)
		+ この世界がゲームだと俺だけが知っている(n9078bd)
		+ まのわ ～魔物倒す・能力奪う・私強くなる～(n3730bn)
	- すでに同梱されているプリセットデータを一部更新
		+ 異世界迷宮で奴隷ハーレムを(n4259s)
		+ ログ・ホライズン(n8725k)
* Bug Fix
	- replace.txt で置換対象を削除するという表現（あいう<tab><改行>）が出来なかったのを修正
	- `--time` オプションで表示される実行時間がより正確になるように調整しました

2014/07/04 : **1.5.9**
* Bug Fix
	- 作者名が半角数字だけの場合にクラッシュする問題を修正

2014/06/25 : **1.5.8**
* 追加機能もしくは仕様変更
	- 小説が削除されていた場合に自動で凍結するようになりました
	- 小説が削除されている場合に `list` コマンドで（削除）と表示されるようになりました
	- 更新に失敗した小説を表示するときにIDも合わせて表示するようにしました
	- `flag` コマンドに強制設定用の `--on` 及び `--off` オプションを追加しました
	- `flag` コマンドに `delete` フラグを追加しました（削除表示への対応）
	- ルビの拗音（ぁ、ぃ、ゃ等）を商業書籍のように大きくする機能を追加しました
		+ `narou s force.enable_ruby_youon_to_big=true` とするか、
		  setting.ini に `enable_ruby_youon_to_big=true` を追加して下さい（標準ではオフ）
	- 今バージョン以降ダウンロードした小説は、小説タイトルが変わっても converter.rb に関するエラーが
	  発生しないように調整しました。ただし、すでにダウンロード済み小説には適用されないため、エラーが出た場合は
	  converter.rb の削除で対応をお願いします

2014/06/15 : **1.5.7.1**
* 追加機能もしくは仕様変更
	- 10話ごとの制限が復活していたので、1.5.7で外したウェイトを復活させました

2014/06/14 : **1.5.7**
* 追加機能もしくは仕様変更
	- 小説家になろうにおいて、10話ごとにかけていたウェイトを削除
* Bug Fix
	- &#39; (') のエンティティ変換を追加

----

「小説家になろう」は株式会社ヒナプロジェクトの登録商標です
