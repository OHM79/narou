Narou.rb ― 「小説家になろう」「小説を読もう！」ダウンローダ＆縦書用整形スクリプト
============================================================

[![Gem Version](https://badge.fury.io/rb/narou.svg)](http://badge.fury.io/rb/narou)

概要 - Summary
--------------
このアプリは[小説家になろう](http://syosetu.com/)、[小説を読もう！](http://yomou.syosetu.com/)で公開されている小説の管理、
及び電子書籍データへの変換を支援します。縦書き用に特化されており、
横書き用に特化されたWEB小説を違和感なく縦書きで読むことが出来るようになります。
また、校正機能もありますので、小説としての一般的な整形ルールに矯正します。（例：感嘆符のあとにはスペースが必ずくる）

[ノクターンノベルズ](http://noc.syosetu.com/)及び[ムーンライトノベルズ](http://mnlt.syosetu.com/)にも対応しています。

**NEW!!**
[ハーメルン](http://syosetu.org/)、[Arcadia](http://www.mai-net.net/)（理想郷）、[暁](http://www.akatsuki-novels.com/)にも対応しました！

全てコンソールで操作するCUIアプリケーションです。

主な機能は小説家になろうの小説のダウンロード、更新管理、テキスト整形、AozoraEpub3・kindlegen連携によるEPUB/MOBI出力です。

詳細な説明やインストール方法は **[Narou.rb 説明書](https://github.com/whiteleaf7/narou/wiki)** を御覧ください。

![ScreenCapture](https://raw.github.com/wiki/whiteleaf7/narou/images/narou_cap.gif)

更新履歴 - ChangeLog
--------------------


2.4.2 : 2015/06/07
------------------
#### Bug Fix
- WEB UI のタグ検索結果がページリロードで解除されてしまう不具合を修正
- WEB UI で最新話掲載日を更新したあとにリストを更新するように修正
- 小説家になろうのルビ仕様に追随してない場合があったのを修正
- ハーメルン、ムーンライトノベルズの小説をNコードでDL出来ない不具合を修正
- v2.4.0以前にDLした短編が更新できなくなっていた不具合を修正


2.4.1 : 2015/05/24
------------------
#### 追加機能
- WEB UI の Update ボタンに「表示されている小説を更新」、「最新話掲載日を更新」
  という選択肢を追加しました
	+ 表示されている小説を更新：見える範囲内の小説を選択せずに更新出来る。タグ検
	  索やフィルターで絞り込んだあとにいちいち選択する必要がなくなる
	+ 最新話掲載日を更新： `narou u --gl` を WEB UI からも実行出来るようにした物

#### 仕様変更
- WEB UI の項目「最新話掲載日」をArcadia及び暁にも対応させました
	+ それに伴い `narou u --gl` コマンドもArcadiaと暁に対応します
- `narou u --gl` コマンドが凍結済み小説は無視するように変更しました
- 最新話掲載日の経過日時表記に「3d」（3日以内に掲載）を追加しました

#### Bug Fix
- WEB UI のタグ検索が部分一致になっていたのを完全一致に修正しました
- 連続したミュートが正しく変換できていなかったのを修正


2.4.0 : 2015/05/16
------------------
#### 追加機能
- WEB UI に保存フォルダを開くためのボタンを表示する項目「保存先」を追加しました
- WEB UI に項目「最新話掲載日」を追加しました
	+ 「小説家になろう」と「ハーメルン」のみ対応しています（updateした小説から
	  反映されていきます）。更新が無いと反映されないため、手動で反映させたい場合
	  はWEB UI サーバを落とした状態で `narou u --gl` コマンドを使用して下さい。
	  （基本的に一度実行するだけで十分です）

#### 仕様変更
- 小説リストの「新着」及び「更新」の表示基準を調整しました
- replace.txt による置換を行うタイミングを変更しました
	+ 今までは (before→本体処理→after)＊話数分→置換 という処理順だったものが、
	  (before→本体処理→after→置換)＊話数分 という処理順になりました

#### Bug Fix
- `enable_insert_word_separator` を有効にした場合に発生する以下の不具合を修正
	+ 開きカッコの禁則処理が Kindle で処理されなくなる
	+ replace.txt による置換が正常に行われない場合がある
	+ URLが含まれている文章の単語分割が正常に行われない
- あらすじだけ更新された場合にデータベースが更新されていなかった不具合を修正
- 小説サイトのサーバーがダウンしている時にエラーがでる問題を修正
- WEB UI の小説リストにおいて、更新・新着の表示期間が過ぎているにも関わらず、
  アップデート等をした際に消えない不具合を修正
- ハーメルンで非公開になっている小説をアップデートするとエラーになる不具合
  を修正



----

過去の更新履歴は[こちらを参照](https://github.com/whiteleaf7/narou/blob/master/ChangeLog.md)

----

「小説家になろう」は株式会社ヒナプロジェクトの登録商標です
