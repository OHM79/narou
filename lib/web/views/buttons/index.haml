%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.min.js")
%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/xml/xml.min.js")
%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/javascript/javascript.min.js")
%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/htmlmixed/htmlmixed.min.js")
%link(rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.css")
-# %link(rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/theme/monokai.css")

:javascript
  local_initialize_functions.push(function($) {
    CodeMirror(document.getElementById("html_editor"), {
      mode: "htmlmixed",
      lineNumbers: true,
      autofocus: true
    });

    CodeMirror(document.getElementById("js_editor"), {
      mode: "javascript",
      lineNumbers: true,
      autofocus: false
    });
  });

:css
  .CodeMirror {
    border: 1px solid #ccc;
    height: 500px;
  }

.navbar.navbar-default.navbar-fixed-top(role="navigation")
  .container
    .navbar-header
      %button.navbar-toggle(type="button")
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand(href="#" data-move-to="top") Narou.rb WEB UI
    #bs-navbar-collapse-1.collapse.navbar-collapse
      %ul.nav.navbar-nav
        %li
          %a(href="/settings") 環境設定
        %li
          %a(href="/help") ヘルプ
        %li
          %a(href="/") 戻る
      %p#queue-text.navbar-text.navbar-right(data-toggle="tooltip" title="キューに積まれた処理の数" data-placement="bottom")
        %span.glyphicon.glyphicon-inbox
        %span#queue 0

.container.theme-showcase(role="main")
  %h1 操作ボタンの編集

  .row
    .col-md-6
      .form-group
        %h4 HTML
        #html_editor
          = @html_code

    .col-md-6
      .form-group
        %h4 Javascript
        #js_editor
          = @js_code
    
  .row
    .col-md-12
      .form-group
        %button.btn.btn-info
          保存
