%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.js")
%script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/javascript/javascript.js")
%link(rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.css")
-# %link(rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/theme/monokai.css")

:javascript
  local_initialize_functions.push(function($) {
    var myCodeMirror = CodeMirror(document.getElementById("editor"), {
      mode: "javascript",
      lineNumbers: true,
      autofocus: true
    });
  });

.navbar.navbar-default.navbar-fixed-top(role="navigation")
  .container
    .navbar-header
      %button.navbar-toggle(type="button")
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand(href="#" data-move-to="top") Narou.rb WEB UI
    #bs-navbar-collapse-1.collapse.navbar-collapse
      %ul.nav.navbar-nav
        %li
          %a(href="/settings") 環境設定
        %li
          %a(href="/help") ヘルプ
        %li
          %a(href="/") 戻る
      %p#queue-text.navbar-text.navbar-right(data-toggle="tooltip" title="キューに積まれた処理の数" data-placement="bottom")
        %span.glyphicon.glyphicon-inbox
        %span#queue 0

.container.theme-showcase(role="main")
  %h1 操作ボタンの編集

  #editor(style="height: 300px")

  %table.table.table-striped.table-custome-buttons
    %thead
      %tr
        %th 表示順
        %th タイトル
        %th ラベル
        %th slug
    %tbody
      - @buttons.each do |button|
        %tr
          %td.position= button.position
          %td.title= button.title
          %td.button_label= button.label
          %td.slug= button.slug
